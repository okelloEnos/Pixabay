import 'package:equatable/equatable.dart';
import 'package:pixabay_web/features/pix/domain/entity/pix_entity.dart';

class Pix extends PixEntity {
  const Pix({
    super.id,
    super.image,
    super.quoteNo,
    super.quoteDate,
    super.quoteDueDate,
    super.fromName,
    super.toName,
    super.notes,
    super.discount,
    super.shipping,
    super.subTotal,
    super.taxAmount,
    super.totalAmount,
    super.discountAmount,
    super.shippingAmount,
    super.showDiscount,
    super.showShipping,
    super.billFromFirstName,
    super.billFromLastName,
    super.billFromEmail,
    super.billFromPhone,
    super.billFromContacts,
    super.billFromAddress,
    super.billFromCity,
    super.billFromCountry,
    super.billFromZipCode,
    super.billFromAddressList,
    super.billToFirstName,
    super.billToLastName,
    super.billToEmail,
    super.billToPhone,
    super.billToContacts,
    super.billToAddress,
    super.billToCity,
    super.billToCountry,
    super.billToZipCode,
    super.billToAddressList,
    super.quoteStatus,
    super.companyId,

    super.companyBranchId,
    super.createdById,
    super.currency,
    super.createdAt,

  });

  factory Pix.fromJson(Map<String, dynamic> json) {
    return Pix(
      id: json['id'],
      quoteNo: json['quoteNumber'],
      showDiscount: json['discount'] != null && json['discount'] > 0,
      showShipping: json['shipping'] != null && json['shipping'] > 0,
      fromName: json['business'],
      toName: json['client'],
      billFromFirstName: json['businessFirstName'],
      billFromLastName: json['businessLastName'],
      billFromEmail: json['businessEmail'],
      billFromPhone: json['businessPhone'],
      billFromAddress: json['businessLocation'],
      billFromZipCode: json['businessPostalAddress'],
      billFromCity: json['businessCity'],
      billFromCountry: json['businessCountry'],
      billToFirstName: json['clientFirstName'],
      billToLastName: json['clientLastName'],
      billToEmail: json['clientEmail'],
      billToPhone: json['clientPhone'],
      billToZipCode: json['clientPostalAddress'],
      billToAddress: json['clientLocation'],
      billToCity: json['clientCity'],
      billToCountry: json['clientCountry'],
      companyId: json['companyId'],
      createdById: json['createdById'], //
      companyBranchId: json['companyBranchId'], //
      createdAt: json['createdAt'], //
      quoteStatus: json['status'],
      currency: json['currency'] ?? "KES", //
      image: json['image'],
      notes: json['comments'],
      // fromName: json['fromName'] ?? "",
      // toName: json['toName'] ?? "",
      // id: json['id'] ?? "",
      // billFromContacts: (json['billFromContacts'] as List<dynamic>?)
      //     ?.map((contact) => contact.toString())
      //     .toList(),
      // billToContacts: (json['billToContacts'] as List<dynamic>?)
      //     ?.map((contact) => contact.toString())
      //     .toList(),

    );
  }

  Map<String, dynamic> toJson() {
    return {
      'id': id,
      'quoteNumber': quoteNo,
      'quoteDate': quoteDate,
      'dueDate': quoteDueDate,
      'discount': discount,
      'shipping': shipping,
      'subtotal': subTotal,
      'tax': taxAmount,
      'balanceDue': totalAmount,
      'businessFirstName': billFromFirstName,
      'businessLastName': billFromLastName,
      'businessEmail': billFromEmail,
      'businessPhone': billFromPhone,
      'businessPostalAddress': billFromAddress,
      'businessCity': billFromCity,
      'businessCountry': billFromCountry,
      'clientFirstName': billToFirstName,
      'clientLastName': billToLastName,
      'clientEmail': billToEmail,
      'clientPhone': billToPhone,
      'clientPostalAddress': billToAddress,
      'clientCity': billToCity,
      'clientCountry': billToCountry,
      'companyId': companyId,
      'companyBranchId': companyBranchId,
      'createdById': createdById,
      'currency': currency,
      'createdAt': createdAt,
      // 'createdBy': createdBy?.toJson(),
      // 'company': company?.toJson(),
      // 'branch': branch?.toJson(),
      'quoteStatus': quoteStatus,
      'image': image,
      'notes': notes,
      // 'fromName': fromName,
      // 'toName': toName,
      // 'billFromContacts': billFromContacts,
      // 'billToContacts': billToContacts,
      // 'id': id,
      'showDiscount': showDiscount,
      'showShipping': showShipping,
      'discountAmount': discountAmount,
      'shippingAmount': shippingAmount,
      // 'billFromAddressList': billFromAddressList?.map((e) => e.toJson()).toList(),
      // 'billToAddressList': billToAddressList?.map((e) => e.toJson()).toList(),
      // 'billFromContacts': billFromContacts?.map((e) => e.toJson()).toList(),
      // 'billToContacts': billToContacts?.map((e) => e.toJson()).toList(),

    };
  }
}
